<!DOCTYPE html>
<html>
<head>
  <title>riteme.site - 平面计算几何</title>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="../../favicon.png" type="image/png">
  <link rel="stylesheet" type="text/css" href="../../css/site.min.css">
  <link href="http://fonts.useso.com/css?family=Ubuntu:300,300italic,400,400italic,500,500italic,700,700italic&amp;subset=latin,greek,cyrillic" rel="stylesheet" type="text/css">
  <script type="text/javascript" async src="../../mathjax/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>
<body>
<div id="topbar"><div id="topcell"><font class="toptitle">riteme.site</font></div></div>
<ul class="breadcrumb"><li><a href="../../index.html">HOME</a></li><li><a href="#">BLOG</a></li><li><a href="#">2016-4-12</a></li><li class="active">平面计算几何</li></ul>

<div id="view">
<div id="container">
<h1 id="_1">平面计算几何</h1>
<div class="toc">
<ul>
<li><a href="#_1">平面计算几何</a><ul>
<li><a href="#1">1 线段</a></li>
<li><a href="#2">2 叉积</a></li>
</ul>
</li>
</ul>
</div>
<h2 id="1">1 线段</h2>
<p>下图中展示了一条<strong>无向线段</strong><mathjax>$AB$</mathjax>。</p>
<p><img alt="segment-1" src="http://git.oschina.net/riteme/blogimg/raw/master/geometry/segment-1.svg" /></p>
<p>一般来说，我们所见的线段都是不定方向的。但在计算几何中，我们会借助<strong>向量</strong>这一强大的工具，因此我们需要将线段表示成<strong>有向线段(Directed Segment)</strong>的形式。如下图所示：</p>
<p><img alt="segment-2" src="http://git.oschina.net/riteme/blogimg/raw/master/geometry/segment-2.svg" /></p>
<p>事实上，有向线段就是一个向量。在上面，线段<mathjax>$AB$</mathjax>被向量<mathjax>$\vec{AB}$</mathjax>所替代。<br />
同样，我们也可以用<mathjax>$\vec{BA}$</mathjax>来表示。</p>
<p>接下来，我们将研究非常基础的问题：<strong>判定线段是否相交</strong>。<br />
这件工作对于人类来说是非常简单的，然而我们要能设计出一个算法来实现。<br />
首先我们会有一个<mathjax>$\Theta(1)$</mathjax>的时间内判定两条线段是否相交的算法，于是我们就可以在<mathjax>$\Theta(n^2)$</mathjax>的时间内来判定<mathjax>$n$</mathjax>条直线内是否有线段相交。<br />
之后，我们将改进这一算法，使得在<mathjax>$\Theta(n\log n)$</mathjax>的时间内来完成这一任务。</p>
<h2 id="2">2 叉积</h2>
<p>对于两个向量<mathjax>$p_1$</mathjax>和<mathjax>$p_2$</mathjax>，它们的<strong>叉积(Cross Product)</strong><mathjax>$p_1 \times p_2$</mathjax>的定义如下：
<mathjax>$$
p_1 \times p_2 = 
\begin{vmatrix}
x_1 &amp; x_2 \\
y_1 &amp; y_2
\end{vmatrix} = 
x_1y_2 - x_2y_1
\tag{2.1}
$$</mathjax></p>
<p>上面的定义使用了行列式，初学者可能感到迷糊。好在叉积有着很好的几何解释。</p>
<p>下图中，向量<mathjax>$p_1$</mathjax>和向量<mathjax>$p_2$</mathjax>的叉积<mathjax>$p_1 \times p_2$</mathjax>就是它们和与<mathjax>$p_1$</mathjax>平行的向量<mathjax>$p_3$</mathjax>和与<mathjax>$p_2$</mathjax>平行的向量<mathjax>$p_4$</mathjax>所围成的平行四边形<mathjax>$ABCD$</mathjax>的<strong>有向面积</strong>。</p>
<p><img alt="cross-product-1" src="http://git.oschina.net/riteme/blogimg/raw/master/geometry/cross-product-1.svg" /></p>
<p>为什么会是有向面积呢？你可以自己造个数据来算一下，你会发现<mathjax>$p_1 \times p_2 = -p_2 \times p_1$</mathjax>。</p>
<p>我们发现，叉积结果的符号与<mathjax>$p_1$</mathjax>和<mathjax>$p_2$</mathjax>的相对位置关系有很大联系：</p>
<ul>
<li>当<mathjax>$p_2$</mathjax>在<mathjax>$p_1$</mathjax>的<strong>顺时针方向</strong>时，<mathjax>$ p_1 \times p_2 \lt 0$</mathjax>。  </li>
<li>当<mathjax>$p_2$</mathjax>在<mathjax>$p_1$</mathjax>的<strong>逆时针方向</strong>时，<mathjax>$ p_1 \times p_2 \gt 0$</mathjax>。  </li>
<li>当<mathjax>$p_2$</mathjax>与<mathjax>$p_1$</mathjax><strong>共线（方向相同或相反）</strong>时，<mathjax>$ p_1 \times p_2 = 0$</mathjax>。</li>
</ul>
<p>利用这些性质，我们可以完成许多有趣的事情。</p>
<p>同时，利用上面的图像，我们可以探究出叉积公式的另外一种形式：</p>
<p><img alt="cross-product-2" src="http://git.oschina.net/riteme/blogimg/raw/master/geometry/cross-product-2.svg" /></p>
<p>在前面的基础上，我们作<mathjax>$ BE \bot p_2 $</mathjax>，那么平行四边形<mathjax>$ABCD$</mathjax>的面积又可以表示为：
<mathjax>$$ S_{ABCD} = |p_2| \cdot |BE| $$</mathjax></p>
<p>又因为：
<mathjax>$$ |BE| = |p_1| \sin \alpha $$</mathjax></p>
<p>因此：
<mathjax>$$ p_1 \times p_2 = |p_1|\cdot|p_2|\sin \alpha \tag{2.2} $$</mathjax></p>
<p>但是显然这样的公式对于计算机而言需要大量的浮点数运算，所以用这个公式计算叉积精度可能不高。但是这个公式可以改为下面的形式：
<mathjax>$$ \alpha = \sin^{-1}\left({p_1 \times p_2 \over |p_1| \cdot |p_2|}\right) \tag{2.3}$$</mathjax></p>
<p>这样我们可以利用这个公式来计算两个向量间的夹角。</p>
<p>如果两个向量的起点都不在原点时，该怎么计算这个有向面积呢？<br />
这其实相当简单，我们将两个向量的公共起点作为原点，然后运用<strong>向量减法</strong>来计算相对向量，然后就可以计算了。</p>
<hr/>
<a href="geometry-printable.html">查看打印版本</a><br/>
标签: <span class="label label-default">数学</span> <span class="label label-default">计算几何</span><br/>
创建时间: 2016.4.12<br/>
上次修改: 2016.4.12
<div class="ds-thread" data-thread-key="ce3d4fa5000c55ff6dad088e0cef8a46" data-title="平面计算几何" data-url="http://riteme.github.io/blog/2016-4-12/geometry.html"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"riteme"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (
        document.location.protocol == 'https:' ? 'https:' : 'http:'
    ) + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script>
<div><font size="1" color="silver">Powered by <a href="https://pages.github.com">GitHub Pages</a> and <a href="http://www.pythonhosted.org/Markdown/">Python-Markdown</a>.</br>
Copyright 2015-2016 riteme. All rights reserved.</font></div>
</div>
</div>
</body>
</html>
